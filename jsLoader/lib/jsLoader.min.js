(function(){"use strict";if(window.JsLoader){return}window.JsLoader={_cache:{},_origin:document.location.origin,allowCrosArg:false,_log:function(r,e){var o=this;window.console=window.console||{};if(!e){e="log"}if(window.console[e]){window.console[e]("[JsLoader]"+r)}},_parseUrl:function(r){var e=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/{0,1}[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join(""));return r.match(e)},_trimUrl:function(r){r=r.replace(new RegExp("^./"),"");return r&&r.split("?")[0]},_checkOrigin:function(r){var e=this;var o=document.createElement("a");o.href=r;var n=o.origin;return e.allowCrosArg?true:n===e._origin},load:function(r,e,o){if(!r){o&&o();return}var n=this;if(!n._checkOrigin(r)){n._log("cross origin: "+r,"warn");o&&o();return}var i=n._trimUrl(r);if(n._cache[i]){n._log(i+" already loaded");o&&o();return}var t=document.createElement("script");t.type="text/javascript";t.src=r;t.onload=function(){n._log("load finished:"+r,"debug");n._cache[i]=true;e&&e()};t.onerror=function(){n._log("load error:"+r,"error");n._cache[i]=false;o&&o()};document.body.appendChild(t)},loadFiles:function(r,e,o){var n=this;var i=0,t=0,a=false;function l(){if(i>=t){n._log("all files load finished");if(a){o&&o()}else{e&&e()}return}n.load(r[i++],function(){l()},function(){a=true;l()})}if(typeof r==="string"){n.load(r)}else if(Array.isArray(r)){t=r.length;l(i)}else{n._log("Type error",error)}}}})();